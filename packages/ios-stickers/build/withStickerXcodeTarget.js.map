{"version":3,"file":"withStickerXcodeTarget.js","sourceRoot":"","sources":["../src/withStickerXcodeTarget.ts"],"names":[],"mappings":"AAAA,OAAO,EAAgB,gBAAgB,EAAE,MAAM,sBAAsB,CAAC;AAEtE,OAAO,EACL,sBAAsB,EACtB,iBAAiB,EACjB,eAAe,GAChB,MAAM,gBAAgB,CAAC;AAExB,MAAM,kBAAkB,GAAG,mBAAmB,CAAC;AAE/C,MAAM,UAAU,sBAAsB,CAAC,IAAY;IACjD,OAAO,GAAG,IAAI,WAAW,CAAC;AAC5B,CAAC;AAED,MAAM,CAAC,MAAM,sBAAsB,GAAiB,CAAC,MAAM,EAAE,EAAE;IAC7D,OAAO,gBAAgB,CAAC,MAAM,EAAE,CAAC,MAAM,EAAE,EAAE;QACzC,MAAM,eAAe,GAAG,sBAAsB,CAC5C,MAAM,CAAC,UAAU,CAAC,WAAY,CAC/B,CAAC;QAEF,iBAAiB,CACf,MAAM,CAAC,UAAU,EACjB,eAAe,EACf,MAAM,CAAC,GAAI,CAAC,gBAAiB,EAC7B,eAAe,CAChB,CAAC;QAEF,MAAM,WAAW,GAAG,sBAAsB,CACxC,MAAM,CAAC,UAAU,EACjB,kBAAkB,EAClB,eAAe,CAChB,CAAC;QAEF,IAAI,WAAW,EAAE;YACf,MAAM,SAAS,GAAG,eAAe,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;YACrD,IAAI,SAAS,EAAE;gBACb,MAAM,CAAC,UAAU,CAAC,aAAa,CAAC,WAAW,EAAE,SAAS,CAAC,EAAE,CAAC,CAAC;aAC5D;SACF;QAED,OAAO,MAAM,CAAC;IAChB,CAAC,CAAC,CAAC;AACL,CAAC,CAAC","sourcesContent":["import { ConfigPlugin, withXcodeProject } from \"@expo/config-plugins\";\n\nimport {\n  addStickerResourceFile,\n  addStickersTarget,\n  getMainPBXGroup,\n} from \"./xcodeSticker\";\n\nconst STICKERS_ROOT_PATH = \"Stickers.xcassets\";\n\nexport function getProjectStickersName(name: string) {\n  return `${name} Stickers`;\n}\n\nexport const withStickerXcodeTarget: ConfigPlugin = (config) => {\n  return withXcodeProject(config, (config) => {\n    const stickerPackName = getProjectStickersName(\n      config.modRequest.projectName!\n    );\n\n    addStickersTarget(\n      config.modResults,\n      stickerPackName,\n      config.ios!.bundleIdentifier!,\n      stickerPackName\n    );\n\n    const stickersKey = addStickerResourceFile(\n      config.modResults,\n      STICKERS_ROOT_PATH,\n      stickerPackName\n    );\n\n    if (stickersKey) {\n      const mainGroup = getMainPBXGroup(config.modResults);\n      if (mainGroup) {\n        config.modResults.addToPbxGroup(stickersKey, mainGroup.id);\n      }\n    }\n\n    return config;\n  });\n};\n"]}