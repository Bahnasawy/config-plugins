{"version":3,"file":"withStickerPack.js","sourceRoot":"","sources":["../src/withStickerPack.ts"],"names":[],"mappings":"AAEA,OAAO,EAAkB,iBAAiB,EAAE,MAAM,qBAAqB,CAAC;AACxE,OAAO,EAAE,iBAAiB,EAAE,MAAM,wBAAwB,CAAC;AAC3D,OAAO,EAAE,sBAAsB,EAAE,MAAM,0BAA0B,CAAC;AAElE,qDAAqD;AACrD,MAAM,aAAa,GAA2B;IAC5C,CAAC,EAAE,OAAO;IACV,CAAC,EAAE,SAAS;IACZ,CAAC,EAAE,OAAO;CACX,CAAC;AAEF,MAAM,UAAU,sBAAsB,CACpC,QAA2B,EAAE;IAE7B,OAAO,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE;QACxB,IAAI,OAAO,IAAI,KAAK,QAAQ,EAAE;YAC5B,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;SACxB;QACD,OAAO,IAAI,CAAC;IACd,CAAC,CAAC,CAAC;AACL,CAAC;AAED,MAAM,eAAe,GAAwB,CAC3C,MAAM,EACN,EAAE,QAAQ,EAAE,IAAI,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,EAAE,EACtC,EAAE;IACF,MAAM,IAAI,GAAG,aAAa,CAAC,OAAQ,CAAC,CAAC;IACrC,IAAI,CAAC,IAAI,EAAE;QACT,MAAM,IAAI,KAAK,CACb,gBAAgB,OAAO,kCAAkC,MAAM,CAAC,IAAI,CAClE,aAAa,CACd,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CACf,CAAC;KACH;IACD,MAAM,SAAS,GAAG,sBAAsB,CAAC,QAAQ,CAAC,CAAC;IAEnD,MAAM,GAAG,iBAAiB,CAAC,MAAM,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC;IAC7C,MAAM,GAAG,iBAAiB,CAAC,MAAM,EAAE,EAAE,QAAQ,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;IACxE,MAAM,GAAG,sBAAsB,CAAC,MAAM,CAAC,CAAC;IACxC,OAAO,MAAM,CAAC;AAChB,CAAC,CAAC;AAEF,eAAe,eAAe,CAAC","sourcesContent":["import { ConfigPlugin } from \"@expo/config-plugins\";\n\nimport { Props, Sticker, withStickerAssets } from \"./withStickerAssets\";\nimport { withStickersPlist } from \"./withStickerInfoPlist\";\nimport { withStickerXcodeTarget } from \"./withStickerXcodeTarget\";\n\n// TODO: Maybe the name is better to use as a prop...\nconst sizeColumnMap: Record<number, string> = {\n  4: \"small\",\n  3: \"regular\",\n  2: \"large\",\n};\n\nexport function normalizeStickersProps(\n  props: Props[\"stickers\"] = []\n): Sticker[] {\n  return props.map((prop) => {\n    if (typeof prop === \"string\") {\n      return { image: prop };\n    }\n    return prop;\n  });\n}\n\nconst withStickerPack: ConfigPlugin<Props> = (\n  config,\n  { stickers, icon, name, columns } = {}\n) => {\n  const size = sizeColumnMap[columns!];\n  if (!size) {\n    throw new Error(\n      `Column size \"${columns}\" is invalid. Expected one of: ${Object.keys(\n        sizeColumnMap\n      ).join(\", \")}`\n    );\n  }\n  const _stickers = normalizeStickersProps(stickers);\n\n  config = withStickersPlist(config, { name });\n  config = withStickerAssets(config, { stickers: _stickers, icon, size });\n  config = withStickerXcodeTarget(config);\n  return config;\n};\n\nexport default withStickerPack;\n"]}